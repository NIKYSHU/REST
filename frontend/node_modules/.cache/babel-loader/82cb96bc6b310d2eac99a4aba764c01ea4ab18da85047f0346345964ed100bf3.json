{"ast":null,"code":"import _defineProperty from\"/home/michael/python_work/project_rest_gb/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/michael/python_work/project_rest_gb/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/michael/python_work/project_rest_gb/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/michael/python_work/project_rest_gb/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/michael/python_work/project_rest_gb/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProjectForm=/*#__PURE__*/function(_React$Component){_inherits(ProjectForm,_React$Component);var _super=_createSuper(ProjectForm);function ProjectForm(props){var _this;_classCallCheck(this,ProjectForm);_this=_super.call(this,props);_this.state={nameProject:'',linkRepo:'',userProject:[]};return _this;}/* метод, который сохраняет в состояние введеные данные формы */_createClass(ProjectForm,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"handleChangeUser\",value:function handleChangeUser(event){if(!event.target.selectedOptions){this.setState({'userProject':[]});return;}var userProject=[];for(var i=0;i<event.target.selectedOptions.length;i++){userProject.push(\"http://127.0.0.1:8000/api/users/\"+event.target.selectedOptions.item(i).value+\"/\");}console.log(userProject);this.setState({'userProject':userProject});}/* метод, который проверяет сохранились данные из формы в состояние или нет + отменяет\n    * отправку формы */},{key:\"handleSubmit\",value:function handleSubmit(event){this.props.createProject(this.state.nameProject,this.state.linkRepo,this.state.userProject);event.preventDefault();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){return _this2.handleSubmit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"login\",children:\"Name project\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"nameProject\",value:this.state.nameProject,onChange:function onChange(event){return _this2.handleChange(event);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"project\",children:\"Link repo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"linkRepo\",value:this.state.linkRepo,onChange:function onChange(event){return _this2.handleChange(event);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user\",children:\"User project\"}),/*#__PURE__*/_jsx(\"select\",{name:\"userProject\",multiple:true,onChange:function onChange(event){return _this2.handleChangeUser(event);},children:this.props.users.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.username});})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary\",value:\"Save\"})]});}}]);return ProjectForm;}(React.Component);export default ProjectForm;","map":{"version":3,"names":["React","ProjectForm","props","state","nameProject","linkRepo","userProject","event","setState","target","name","value","selectedOptions","i","length","push","item","console","log","createProject","preventDefault","handleSubmit","handleChange","handleChangeUser","users","map","id","username","Component"],"sources":["/home/michael/python_work/project_rest_gb/frontend/src/components/ProjectForm.js"],"sourcesContent":["import React from \"react\";\n\nclass ProjectForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            nameProject: '',\n            linkRepo: '',\n            userProject: []\n        }\n    }\n\n    /* метод, который сохраняет в состояние введеные данные формы */\n\n    handleChange(event) {\n        this.setState(\n            {\n                [event.target.name]: event.target.value\n            }\n        )\n    }\n\n    handleChangeUser(event) {\n        if (!event.target.selectedOptions) {\n            this.setState(\n                {\n                    'userProject': []\n                }\n            )\n            return\n        }\n        let userProject = []\n        for (let i = 0; i < event.target.selectedOptions.length; i++) {\n            userProject.push(\"http://127.0.0.1:8000/api/users/\" + event.target.selectedOptions.item(i).value + \"/\")\n        }\n        console.log(userProject)\n        this.setState(\n            {\n                'userProject': userProject\n            }\n        )\n    }\n\n    /* метод, который проверяет сохранились данные из формы в состояние или нет + отменяет\n    * отправку формы */\n\n    handleSubmit(event) {\n        this.props.createProject(this.state.nameProject, this.state.linkRepo, this.state.userProject)\n        event.preventDefault()\n    }\n\n    render() {\n        return (\n            <form onSubmit={(event) => this.handleSubmit(event)}>\n\n                <div className='form-group'>\n                    <label htmlFor='login'>Name project</label>\n                    <input type='text' className='form-control' name='nameProject' value={this.state.nameProject}\n                           onChange={(event) => this.handleChange(event)}/>\n                </div>\n\n                <div className='form-group'>\n                    <label htmlFor='project'>Link repo</label>\n                    <input type='text' className='form-control' name='linkRepo' value={this.state.linkRepo}\n                           onChange={(event) => this.handleChange(event)}/>\n                </div>\n\n                <div className='form-group'>\n                    <label htmlFor='user'>User project</label>\n                    {/*<input type='number' className='form-control' name='userProject' value={this.state.userProject}*/}\n                    {/*       onChange={(event) => this.handleChange(event)}/>*/}\n                    <select name='userProject' multiple onChange={(event) => this.handleChangeUser(event)}>\n                        {this.props.users.map((item) => <option value={item.id}>{item.username}</option> )}\n                    </select>\n                </div>\n                <input type='submit' className='btn btn-primary' value='Save' />\n            </form>\n        )\n    }\n\n}\n\nexport default ProjectForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}